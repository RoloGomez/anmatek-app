<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Tecnicos
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" scrollY="false">
  <ion-grid class="padding-h20">
    <ion-row>
      <ion-col>
        Técnicos disponibles
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-content>
    <ion-progress-bar type="indeterminate" *ngIf="progreso==true"></ion-progress-bar>
    <ion-list *ngFor="let tecnico of tecnicos; let i = index">
      <div class="padding-h20">
        <ion-card button class="margin-0 border-bottom" (click)="getTecnico(tecnico)">
          <ion-grid>
            <ion-row>
              <ion-col>
                <ion-card-title>{{tecnico.nombre}}</ion-card-title>
              </ion-col>
            </ion-row>
  
            <ion-row>
              <ion-col><ion-card-subtitle>Rut: {{tecnico.rut}}</ion-card-subtitle></ion-col>
              <ion-col><ion-card-subtitle>telefono: +56 9 {{tecnico.numero}}</ion-card-subtitle></ion-col>
            </ion-row>
  
            <ion-row>
              <ion-col>
                <ion-label>correo: {{tecnico.correo}}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </div>
    </ion-list>
  </ion-content>
  
  <div class="add-button margin-10px">
    <ion-button class="add-circle" id="open-create-tecnico">
      <ion-icon slot="icon-only" name="add-outline"></ion-icon>
    </ion-button>
  </div>

  <!-- Modal para crear tecnico-->
  <ion-modal #modalcreartecnico id="crear_tecnico" trigger="open-create-tecnico">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Nuevo Tecnico</ion-title>
        </ion-toolbar>
      </ion-header>

      <ion-content scrollY="false" [fullscreen]="false">
        <ion-list class="margin-10x">
          <ion-item>
            <ion-label position="floating">Rut (Sin punto ni guion)</ion-label>
            <ion-input placeholder="ejemplo: 123456780" [(ngModel)]="rut"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Nombre</ion-label>
            <ion-input placeholder="Ingrese Nombre..." [(ngModel)]="nombre"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">telefono</ion-label>
            <ion-input placeholder="ejemplo: 912345678" [(ngModel)]="numero"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">correo</ion-label>
            <ion-input placeholder="ejemplo: correo@gmail.com" [(ngModel)]="correo"></ion-input>
          </ion-item>
        </ion-list>
        
        <div class="add-button">
          <ion-button class="square-button" (click)="crearTecnico()">Agregar Técnico</ion-button>
          <ion-button class="square-button" (click)="modalcreartecnico.dismiss()" color="danger">Cancelar</ion-button>
        </div>
        
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
